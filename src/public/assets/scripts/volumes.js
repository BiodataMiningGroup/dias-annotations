angular.module("biigle.volumes").controller("AnnotationsFilterController",["AnnotationImage","filter","VOLUME_ID",function(e,t,n){"use strict";t.add({name:"annotations",helpText:"All images that contain one or more annotations.",helpTextNegate:"All images that contain no annotations.",template:"annotationsFilterRule.html",getSequence:function(){return e.query({volume_id:n})}})}]),angular.module("biigle.volumes").controller("AnnotationsLabelFilterController",["AnnotationLabelImage","filter","VOLUME_ID",function(e,t,n){"use strict";t.add({name:"annotation with label",helpText:"All images that contain one or more annotations with the given label.",helpTextNegate:"All images that contain no annotations with the given label.",template:"annotationWithLabelFilterRule.html",typeahead:"annotationLabelFilterTypeahead.html",getSequence:function(t){return e.query({volume_id:n,data:t.id})}})}]),angular.module("biigle.volumes").controller("AnnotationsUserFilterController",["AnnotationUserImage","filter","VOLUME_ID",function(e,t,n){"use strict";t.add({name:"annotation label by user",helpText:"All images that contain one or more annotations with a label attached by the given user.",helpTextNegate:"All images that contain no annotations with a label attached by the given user.",template:"annotationLabelByUserFilterRule.html",typeahead:"annotationUserFilterTypeahead.html",getSequence:function(t){return e.query({volume_id:n,data:t.id})}})}]),angular.module("biigle.volumes").directive("volumeAnnotationLabelChooser",function(){"use strict";return{restrict:"A",scope:{select:"=volumeAnnotationLabelChooser",id:"=volumeId"},replace:!0,template:'<input type="text" data-ng-model="selected" data-uib-typeahead="label.name for label in find($viewValue)" data-typeahead-wait-ms="250" data-typeahead-on-select="select($item)"/>',controller:["$scope","VolumeAnnotationLabels",function(e,t){e.find=function(n){return t.find({volume_id:e.id,query:encodeURIComponent(n)}).$promise}}]}}),angular.module("biigle.volumes").factory("AnnotationImage",["$resource","URL",function(e,t){"use strict";return e(t+"/api/v1/volumes/:volume_id/images/filter/annotations")}]),angular.module("biigle.volumes").factory("AnnotationLabelImage",["$resource","URL",function(e,t){"use strict";return e(t+"/api/v1/volumes/:volume_id/images/filter/annotation-label/:data")}]),angular.module("biigle.volumes").factory("AnnotationUserImage",["$resource","URL",function(e,t){"use strict";return e(t+"/api/v1/volumes/:volume_id/images/filter/annotation-user/:data")}]),angular.module("biigle.volumes").factory("VolumeAnnotationLabels",["$resource","URL",function(e,t){"use strict";return e(t+"/api/v1/volumes/:volume_id/annotation-labels/find/:query",{},{find:{method:"GET",isArray:!0}})}]);